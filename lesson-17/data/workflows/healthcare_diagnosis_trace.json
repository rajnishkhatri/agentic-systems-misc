{
  "workflow_id": "healthcare-diagnosis-001",
  "workflow_name": "Healthcare Diagnosis Workflow",
  "workflow_type": "healthcare_diagnosis",
  "task_plan": {
    "plan_id": "plan-healthcare-diagnosis-001",
    "task_id": "healthcare-diagnosis-001",
    "created_at": "2025-11-27T09:00:00+00:00",
    "steps": [
      {
        "step_id": "analyze_symptoms",
        "description": "Analyze patient symptoms",
        "agent_id": "symptom-analyzer-v1",
        "expected_inputs": [
          "patient_id",
          "symptoms",
          "duration"
        ],
        "expected_outputs": [
          "symptom_analysis",
          "severity_score"
        ],
        "timeout_seconds": 30,
        "is_critical": true,
        "order": 1
      },
      {
        "step_id": "interpret_labs",
        "description": "Interpret laboratory results",
        "agent_id": "lab-interpreter-v1",
        "expected_inputs": [
          "patient_id",
          "lab_results"
        ],
        "expected_outputs": [
          "lab_interpretation",
          "abnormal_flags"
        ],
        "timeout_seconds": 45,
        "is_critical": true,
        "order": 2
      },
      {
        "step_id": "generate_diagnosis",
        "description": "Generate differential diagnosis",
        "agent_id": "diagnosis-generator-v1",
        "expected_inputs": [
          "symptom_analysis",
          "lab_interpretation"
        ],
        "expected_outputs": [
          "diagnoses",
          "confidence_scores"
        ],
        "timeout_seconds": 60,
        "is_critical": true,
        "order": 3
      },
      {
        "step_id": "recommend_treatment",
        "description": "Recommend treatment options",
        "agent_id": "treatment-recommender-v1",
        "expected_inputs": [
          "diagnoses",
          "patient_history"
        ],
        "expected_outputs": [
          "treatments",
          "contraindications"
        ],
        "timeout_seconds": 45,
        "is_critical": true,
        "order": 4
      },
      {
        "step_id": "physician_approval",
        "description": "Await physician approval",
        "agent_id": "human-approver",
        "expected_inputs": [
          "diagnoses",
          "treatments"
        ],
        "expected_outputs": [
          "approval_status",
          "modifications"
        ],
        "timeout_seconds": 86400,
        "is_critical": true,
        "order": 5
      }
    ],
    "dependencies": {
      "interpret_labs": [
        "analyze_symptoms"
      ],
      "generate_diagnosis": [
        "analyze_symptoms",
        "interpret_labs"
      ],
      "recommend_treatment": [
        "generate_diagnosis"
      ],
      "physician_approval": [
        "recommend_treatment"
      ]
    },
    "rollback_points": [
      "analyze_symptoms"
    ],
    "metadata": {
      "patient_id": "PATIENT-ANON-001",
      "case_type": "routine"
    }
  },
  "collaborators": [
    {
      "agent_id": "symptom-analyzer-v1",
      "agent_name": "Symptom Analysis Agent",
      "role": "symptom_analysis",
      "joined_at": "2025-11-27T09:00:00+00:00",
      "left_at": "2025-11-27T09:00:25+00:00"
    },
    {
      "agent_id": "lab-interpreter-v1",
      "agent_name": "Lab Interpretation Agent",
      "role": "lab_analysis",
      "joined_at": "2025-11-27T09:00:25+00:00",
      "left_at": "2025-11-27T09:01:00+00:00"
    },
    {
      "agent_id": "diagnosis-generator-v1",
      "agent_name": "Medical Diagnosis Assistant",
      "role": "diagnosis",
      "joined_at": "2025-11-27T09:01:00+00:00",
      "left_at": "2025-11-27T09:01:50+00:00"
    },
    {
      "agent_id": "treatment-recommender-v1",
      "agent_name": "Treatment Recommendation Agent",
      "role": "treatment",
      "joined_at": "2025-11-27T09:01:50+00:00",
      "left_at": "2025-11-27T09:02:25+00:00"
    },
    {
      "agent_id": "human-approver",
      "agent_name": "Physician Approver",
      "role": "approval",
      "joined_at": "2025-11-27T09:02:25+00:00",
      "left_at": null
    }
  ],
  "parameter_substitutions": [],
  "execution_trace": {
    "trace_id": "trace-healthcare-diagnosis-001",
    "task_id": "healthcare-diagnosis-001",
    "events": [
      {
        "event_id": "evt-001",
        "event_type": "step_start",
        "step_id": "analyze_symptoms",
        "timestamp": "2025-11-27T09:00:00+00:00",
        "agent_id": "symptom-analyzer-v1",
        "metadata": {}
      },
      {
        "event_id": "evt-002",
        "event_type": "collaborator_join",
        "step_id": "analyze_symptoms",
        "timestamp": "2025-11-27T09:00:00+00:00",
        "agent_id": "symptom-analyzer-v1",
        "metadata": {
          "role": "symptom_analysis"
        }
      },
      {
        "event_id": "evt-003",
        "event_type": "step_end",
        "step_id": "analyze_symptoms",
        "timestamp": "2025-11-27T09:00:25+00:00",
        "agent_id": "symptom-analyzer-v1",
        "duration_ms": 25000,
        "metadata": {
          "success": true,
          "severity_score": 0.65
        }
      },
      {
        "event_id": "evt-004",
        "event_type": "step_start",
        "step_id": "interpret_labs",
        "timestamp": "2025-11-27T09:00:25+00:00",
        "agent_id": "lab-interpreter-v1",
        "metadata": {}
      },
      {
        "event_id": "evt-005",
        "event_type": "step_end",
        "step_id": "interpret_labs",
        "timestamp": "2025-11-27T09:01:00+00:00",
        "agent_id": "lab-interpreter-v1",
        "duration_ms": 35000,
        "metadata": {
          "success": true,
          "abnormal_values": 3
        }
      },
      {
        "event_id": "evt-006",
        "event_type": "step_start",
        "step_id": "generate_diagnosis",
        "timestamp": "2025-11-27T09:01:00+00:00",
        "agent_id": "diagnosis-generator-v1",
        "metadata": {}
      },
      {
        "event_id": "evt-007",
        "event_type": "collaborator_join",
        "step_id": "generate_diagnosis",
        "timestamp": "2025-11-27T09:01:00+00:00",
        "agent_id": "diagnosis-generator-v1",
        "metadata": {
          "role": "diagnosis"
        }
      },
      {
        "event_id": "evt-008",
        "event_type": "decision",
        "step_id": "generate_diagnosis",
        "timestamp": "2025-11-27T09:01:20+00:00",
        "agent_id": "diagnosis-generator-v1",
        "metadata": {
          "decision": "Primary diagnosis: Poorly controlled Type 2 Diabetes",
          "alternatives": [
            "Type 2 Diabetes",
            "Thyroid disorder",
            "Metabolic syndrome"
          ],
          "rationale": "Lab results show elevated HbA1c (7.2%) and fasting glucose (145)",
          "confidence": 0.92
        }
      },
      {
        "event_id": "evt-009",
        "event_type": "step_end",
        "step_id": "generate_diagnosis",
        "timestamp": "2025-11-27T09:01:50+00:00",
        "agent_id": "diagnosis-generator-v1",
        "duration_ms": 50000,
        "metadata": {
          "success": true,
          "diagnosis_confidence": 0.92,
          "requires_approval": true
        }
      },
      {
        "event_id": "evt-010",
        "event_type": "step_start",
        "step_id": "recommend_treatment",
        "timestamp": "2025-11-27T09:01:50+00:00",
        "agent_id": "treatment-recommender-v1",
        "metadata": {}
      },
      {
        "event_id": "evt-011",
        "event_type": "step_end",
        "step_id": "recommend_treatment",
        "timestamp": "2025-11-27T09:02:25+00:00",
        "agent_id": "treatment-recommender-v1",
        "duration_ms": 35000,
        "metadata": {
          "success": true,
          "treatments_suggested": 3
        }
      },
      {
        "event_id": "evt-012",
        "event_type": "step_start",
        "step_id": "physician_approval",
        "timestamp": "2025-11-27T09:02:25+00:00",
        "agent_id": "human-approver",
        "metadata": {
          "awaiting_human": true
        }
      }
    ],
    "start_time": "2025-11-27T09:00:00+00:00",
    "end_time": null,
    "total_duration_ms": null
  },
  "outcome": {
    "status": "pending_approval",
    "reason": "Awaiting physician approval for diagnosis and treatment",
    "root_cause": null,
    "steps_completed": 4,
    "steps_failed": 0,
    "steps_skipped": 0,
    "steps_pending": 1
  },
  "metadata": {
    "patient_id": "PATIENT-ANON-001",
    "primary_diagnosis": "Poorly controlled Type 2 Diabetes",
    "diagnosis_confidence": 0.92,
    "requires_approval": true
  }
}