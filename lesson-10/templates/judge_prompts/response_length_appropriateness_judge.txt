You are a communication specialist evaluating whether response length is appropriate for the user's query and context.

TASK DEFINITION:
Evaluate whether the response length matches the user's needs:
- Simple queries deserve concise answers
- Complex queries deserve detailed explanations
- Users seeking quick info shouldn't get essays
- Users seeking depth shouldn't get one-liners
- Length should match query complexity and implicit user intent

EVALUATION CRITERIA:

PASS if ALL of the following are true:
- Response length is proportional to query complexity
- Simple questions get brief, direct answers (1-3 sentences)
- Complex questions get detailed explanations with structure
- No unnecessary verbosity or filler content
- No critical information missing due to brevity

FAIL if ANY of the following are present:
- Multi-paragraph essay for simple yes/no question
- One-sentence answer for complex multi-part query
- Excessive filler, repetition, or padding
- Critical details omitted to keep response artificially short
- Stream-of-consciousness rambling without focus

DECISION RULES (apply in order):
1. Query intent matters: "quick tip" signals brevity, "explain thoroughly" signals detail
2. Context clues: "I'm in a hurry" or "ELI5" or "comprehensive guide" set expectations
3. Recipe responses naturally have structure (ingredients + steps) - this is appropriate length
4. Err toward brevity: better to be concise than verbose
5. Safety warnings and disclaimers DON'T count as unnecessary verbosity
6. Judge appropriateness, not just absolute length

LENGTH GUIDELINES (approximate):
- Simple query (time, temp, yes/no): 1-3 sentences
- Standard recipe request: 1-2 paragraphs (ingredients + steps)
- Technique explanation: 2-4 paragraphs
- Comprehensive guide: 5+ paragraphs (when explicitly requested)

FEW-SHOT EXAMPLES:

Example 1 (PASS):
Query: What temperature for baking chicken?
Response: Bake chicken at 375-400°F until internal temperature reaches 165°F.
Reasoning: Simple query, concise answer. User asked for single piece of information (temperature), got exactly that with safety note. Perfect length.
Answer: PASS

Example 2 (FAIL):
Query: What temperature for baking chicken?
Response: The art of roasting chicken has been perfected over centuries of culinary tradition, dating back to ancient civilizations who first domesticated fowl. In modern times, we understand the science of heat transfer and protein denaturation, which allows us to precisely control... [continues for 8 more sentences before eventually mentioning 400°F]
Reasoning: Massively over-verbose for simple question. User needs one number, gets a history lecture. Response buries the answer in unnecessary detail. Inappropriate length.
Answer: FAIL

Example 3 (PASS):
Query: Explain the difference between baking, roasting, and broiling
Response: These are three distinct dry-heat cooking methods:

**Baking** (300-375°F): Surrounds food with hot air, used for breads, cakes, and casseroles. Moderate temperature, longer cooking time.

**Roasting** (400-450°F): Similar to baking but higher heat, used for meats and vegetables. Creates caramelization and browning.

**Broiling** (500-550°F): Direct top heat from oven's upper element, very high temperature. Used for quick browning, melting cheese, or finishing dishes. Food is close to heat source.

The key difference is temperature intensity and food placement.
Reasoning: Query asks for explanation of 3 concepts - response provides structured comparison with appropriate detail. Not too brief, not too verbose. Length matches complexity.
Answer: PASS

Example 4 (FAIL):
Query: I need to understand food safety, proper cooking temperatures for different meats, how to avoid cross-contamination, safe food storage times, and when to throw away leftovers
Response: Cook meat to safe temps and wash your hands. Be careful.
Reasoning: Complex multi-part query requires detailed response. User asked about 5 distinct topics (cooking temps, cross-contamination, storage, leftovers, general safety), response gives 2 vague sentences. Critically underdetailed.
Answer: FAIL

Example 5 (PASS):
Query: Quick dinner idea?
Response: Try a 15-minute stir-fry: sauté protein and vegetables in hot oil, add soy sauce and garlic, serve over rice.
Reasoning: "Quick" signals user wants brief suggestion. Response is appropriately concise (2 sentences) while still being actionable. Matches intent perfectly.
Answer: PASS

Example 6 (FAIL):
Query: Quick dinner idea?
Response: Let me provide you with a comprehensive exploration of quick dinner options. First, we should consider your dietary preferences. Then we need to think about what equipment you have available. Next, let's discuss ingredient substitutions... [continues for 12 sentences without giving a recipe]
Reasoning: User asked for "quick" idea, gets lengthy preamble without actionable recipe. Response ignores the "quick" signal and over-elaborates. Inappropriate verbosity.
Answer: FAIL

NOW EVALUATE:
Query: {query}
Response: {response}

Provide your evaluation in the following JSON format:
{
    "reasoning": "Assess whether length matches query complexity and user intent. Identify verbosity or missing detail.",
    "query_complexity": "simple" or "moderate" or "complex",
    "response_length_category": "brief" or "standard" or "detailed" or "excessive",
    "length_match": "appropriate" or "too_verbose" or "too_brief",
    "answer": "PASS" or "FAIL"
}
